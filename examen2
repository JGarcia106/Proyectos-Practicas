class Habitacion {
    private String numero;
    private String tipo;
    private int precio;
    private String estado;

    public Habitacion(String numero, String tipo, int precio, String estado) {
        this.numero = numero;
        this.tipo = tipo;
        this.precio = precio;
        this.estado = estado;
    }

    public String getNumero() { return numero; }
    public String getTipo() { return tipo; }
    public int getPrecio() { return precio; }
    public String getEstado() { return estado; }

    public void setTipo(String tipo) { this.tipo = tipo; }
    public void setPrecio(int precio) { this.precio = precio; }
    public void setEstado(String estado) { this.estado = estado; }
}

import javax.swing.JOptionPane;

public class HotelReservas {
    static Habitacion[][] hotel = new Habitacion[5][5]; // 5 pisos, 5 habitaciones por piso

    public static void main(String[] args) {
        precargarHotel();
        menuPrincipal();
    }

    public static void precargarHotel() {
        int numero = 101;
        for (int piso = 0; piso < hotel.length; piso++) {
            for (int hab = 0; hab < hotel[piso].length; hab++) {
                String tipo = (hab % 2 == 0) ? "Simple" : "Doble";
                int precio = 40;
                if (piso == 0) precio = 30;
                if (piso == 1 && hab == 0) precio = 50;
                hotel[piso][hab] = new Habitacion(String.valueOf(numero), tipo, precio, "Libre");
                numero++;
            }
            numero += 95;
        }

        hotel[0][4].setEstado("Sucia");
        hotel[1][0].setEstado("Ocupada");
        hotel[2][0].setEstado("Sucia");
    }

    public static void menuPrincipal() {
        boolean salir = false;
        while (!salir) {
            String opcion = JOptionPane.showInputDialog(
                "Sistema de Gestión Hotelera\n" +
                "1. Ver estado de habitaciones\n" +
                "2. Modificar habitación\n" +
                "3. Reservar habitación\n" +
                "4. Ver resumen de ocupación\n" +
                "5. Salir\nSeleccione una opción:"
            );

            if (opcion == null) return;

            if (opcion.equals("1")) mostrarHabitaciones();
            else if (opcion.equals("2")) modificarHabitacion();
            else if (opcion.equals("3")) reservarHabitacion();
            else if (opcion.equals("4")) resumenHotel();
            else if (opcion.equals("5")) salir = true;
            else JOptionPane.showMessageDialog(null, "Opción inválida");
        }
    }

    public static void mostrarHabitaciones() {
        String mensaje = "Estado actual del hotel:\n";
        for (int piso = hotel.length - 1; piso >= 0; piso--) {
            mensaje += "Piso " + (piso + 1) + "\n";
            for (int hab = 0; hab < hotel[piso].length; hab++) {
                Habitacion h = hotel[piso][hab];
                mensaje += h.getNumero() + " | " + h.getEstado() + " | " + h.getTipo() + " | $" + h.getPrecio() + "\n";
            }
            mensaje += "\n";
        }
        JOptionPane.showMessageDialog(null, mensaje);
    }

    public static void modificarHabitacion() {
        String numero = JOptionPane.showInputDialog("Ingrese número de habitación a modificar:");
        Habitacion h = buscarHabitacion(numero);
        if (h != null) {
            String nuevoEstado = JOptionPane.showInputDialog("Nuevo estado (Libre/Ocupada/Sucia):", h.getEstado());
            String nuevoTipo = JOptionPane.showInputDialog("Nuevo tipo (Simple/Doble):", h.getTipo());
            int nuevoPrecio = Integer.parseInt(JOptionPane.showInputDialog("Nuevo precio:", h.getPrecio()));

            h.setEstado(nuevoEstado);
            h.setTipo(nuevoTipo);
            h.setPrecio(nuevoPrecio);

            JOptionPane.showMessageDialog(null, "Habitación modificada correctamente.");
        } else {
            JOptionPane.showMessageDialog(null, "Habitación no encontrada.");
        }
    }

    public static void reservarHabitacion() {
        String numero = JOptionPane.showInputDialog("Ingrese número de habitación a reservar:");
        Habitacion h = buscarHabitacion(numero);
        if (h != null) {
            if (h.getEstado().equalsIgnoreCase("Libre")) {
                h.setEstado("Ocupada");
                JOptionPane.showMessageDialog(null, "Reserva realizada correctamente.");
            } else {
                JOptionPane.showMessageDialog(null, "La habitación no está disponible.");
            }
        } else {
            JOptionPane.showMessageDialog(null, "Habitación no encontrada.");
        }
    }

    public static void resumenHotel() {
        int libres = 0, ocupadas = 0, sucias = 0, ganancia = 0;
        int total = hotel.length * hotel[0].length;

        for (int piso = 0; piso < hotel.length; piso++) {
            for (int hab = 0; hab < hotel[piso].length; hab++) {
                String estado = hotel[piso][hab].getEstado();
                if (estado.equals("Libre")) libres++;
                else if (estado.equals("Ocupada")) {
                    ocupadas++;
                    ganancia += hotel[piso][hab].getPrecio();
                } else if (estado.equals("Sucia")) sucias++;
            }
        }

        String mensaje = "Resumen de ocupación:\n" +
                         "Habitaciones libres: " + libres + " (" + (libres * 100 / total) + "%)\n" +
                         "Habitaciones ocupadas: " + ocupadas + " (" + (ocupadas * 100 / total) + "%)\n" +
                         "Habitaciones sucias: " + sucias + " (" + (sucias * 100 / total) + "%)\n" +
                         "Ganancia actual: $" + ganancia;

        JOptionPane.showMessageDialog(null, mensaje);
    }

    public static Habitacion buscarHabitacion(String numero) {
        for (int piso = 0; piso < hotel.length; piso++) {
            for (int hab = 0; hab < hotel[piso].length; hab++) {
                if (hotel[piso][hab].getNumero().equals(numero)) {
                    return hotel[piso][hab];
                }
            }
        }
        return null;
    }
}
